{% extends 'basicInfo/admin_base.html' %}
{% load staticfiles %}
{% block body %}
    <div class="left-content">
       <div class="inner-content">

            <!-- header-starts -->
            <div class="header-section">
            <!-- top_bg -->
                <div class="top_bg">            
                    <div class="header_top">
                        <div class="top_right">
                            <ul>
                                <li><a href="#">浙江大学教务中心</a></li>|
                                <li><a href="#">首页</a></li>|
                            </ul>
                        </div>
                        <div class="top_left">
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                    <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down">{{ account_id }}</i>
                                </a>
                                <ul class="dropdown-menu dropdown-user">
                                    <li><a href="basic_login.html"><i class="fa fa-sign-out fa-fw"></i> 登出</a></li>
                                    <li><a href="#"><i class="fa fa-cog fa-fw"></i>设置</a></li>
                                </ul>
                                <!-- /.dropdown-user -->
                            </li>
                        </div>
                        <div class="clearfix"> </div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>

            <div class="content">
                <div id="wrapper">
                    <div id="page-wrapper" style="min-height: 58px;">
                        <div class="row">
                            <div class="col-lg-12">
                                <h1 class="page-header">课程审批</h1>
                            </div>
                        </div>
                        <div class="row">
                            <form role="form">
                                <div class="col-lg-6">
                                    <form action="/teacher/student_comment" method="get">
                                        <div class="form-group">
                                            <select class="form-control" name="metric">
                                                <option value="id">课程代号</option>
                                            </select>
                                        </div>
                                    </form>
                                </div>
                            </form>
                        </div>
                        <table class="table table-hover table-condensed" id="kexuan-tab">
                            <thead>
                                <tr>
                                    <th>课程代号</th>
                                    <th>课程名称</th>
                                    <th>开课次数</th>
                                    <th>教师工号</th>
                                    <th>课程容量</th>
                                    <th>批复</th>
                                </tr>
                            </thead>
                            <tbody id="tbody">

                            </tbody>
                        </table>
                    </div>
                    <!-- /#page-wrapper -->
                </div>
                <!-- /#wrapper -->
                
                <button id="test"></button>

            </div>
            <!--content-ends-->
        </div>
        <!--content-inner-ends-->
    </div>

	<script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

   <script>
        $(document).ready(function () {
            courselit();
        });

        const basicUrl="http://127.0.0.1:8000/";
        function courselit() {
            var url = basicUrl + "api/admin/coursewaitlist";
            new Promise(function (resolve){
               $.ajax(
                   {
                       method: "GET",
                       url: url,
                       data: {
                       },
                       async : false,
                       success: function (data) {
                            resolve(data);
                       }

                   }
               )
                }).then(
                    function (data) {
                        {#console.log(data);#}
                        for(var i=0;i<data.length;i++){
                            var text = "<tr>\n" +
                             "                            <td>"+data[i].id+"</td>\n" +
                                "                            <td>"+data[i].num+"</td>\n" +
                            "                            <td>"+data[i].name+"</td>\n" +
                            "                            <td>"+data[i].tid+"</td>\n" +
                            "                            <td>"+data[i].capacity+"</td>\n" +
                             "                           <td><button onclick=\"agree(\'"+data[i].id+"\',\'"+data[i].name+"\',\'"+data[i].tid+"\')\" id=\"b"+i+"\" type=\"button\" style=\"background-color: #1A9F00\" class=\"btn btn-primary\">同意</button></td>\n" +
                            "                        </tr>";
                            {#console.log(text);#}
                            $("#tbody").append(text);
                        }

                    }
                );
        }
    </script>
    
    <script>
        $(document).ready(function () {
            $("button").click(function () {
                console.log("ASS");
            });
        });
        function agree(id,name,tid) {
            console.log(id,name,tid);
        }
    </script>



<script>
    var toggle = true;
                                        
    $(".sidebar-icon").click(function() 
    {                
        if (toggle)
        {
            $(".page-container").addClass("sidebar-collapsed").removeClass("sidebar-collapsed-back");
            $("#menu span").css({"position":"absolute"});
        }
        else
        {
            $(".page-container").removeClass("sidebar-collapsed").addClass("sidebar-collapsed-back");
            setTimeout(function() 
            {
                $("#menu span").css({"position":"relative"});
                    }, 400);
            }
                                            
            toggle = !toggle;
        });
</script>
            
    
{% endblock %}
